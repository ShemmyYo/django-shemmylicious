{% extends 'base.html' %}
{% block title %}Add Recipe{% endblock %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}

{% if user.is_authenticated %}

<div class="container col-10 offset-1 col-md-8 offset-md-2">
    <br>
        {% if submitted %}
        <center>
            <br>
            <br>
            <h5>Your Recipe was Submitted Succesfully, {{ user }}!</h5>
            <br>
            <br>
            <a href="{% url 'recipes' %}" class="btn btn-outline-success">Back</a>
            <a href="{% url 'recipe-mylist' %}" class="btn btn-outline-success">My Recipes</a>
        </center>

        {% else %}
        <br>
        <br>
        <h3>Add Recipe</h3>
        <br>
        <form action="" method="POST" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="form-floating mb-3">
                <input type="text" class="form-control textInput" name="recipe_title" id="id_recipe_title" 
                placeholder="Type in Recipe Title" required>
                <label for="id_recipe_title">* Type-in your recipe title here...</label>
            </div>
            <div class="form-floating mb-3">
                <input type="text" class="form-control textInput" name="featured_comment" id="id_featured_comment" 
                placeholder="Type-in a short but catchy comment which will be featured with your recipe..." required>
                <label for="id_featured_comment">* Type-in a short but catchy comment which will be featured with your recipe...</label>
            </div>

            {{ form | crispy }}

            <div class="form-floating mb-3">
                <input type="text" class="form-control textInput" name="excerpt" id="id_excerpt" 
                placeholder="Additional info info (e.g. nutrition facts etc.) as required go here...">
                <label for="id_excerpt">Additional info info (e.g. nutrition facts etc.) as required go here...</label>
            </div>
            <div class="form-floating mb-3">
                <input type="file" class="form-control fileInput fileUpload form-control-file" name="featured_image" 
                id="id_featured_image" placeholder="Featured image">
                <label for="id_featured_image">Featured image</label>
            </div>
            <br>
            <center>
                <div class="d-grid gap-2 col-12">
                    <input type="submit" value="Add Recipe" class="btn btn-outline-success">
                    <a href="{% url 'recipes' %}" class="btn btn-outline-success">Back</a>
                </div>
            </center>
        </form>
        <br>

        {% endif %}
    <br>
    <br>
    <br>
    <br>
    <br>
</div>

{% else %}
<center>
    <h1>You're not logged in!</h1>
</center>
{% endif %}

{% endblock content %}